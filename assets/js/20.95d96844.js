(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{503:function(s,t,a){"use strict";a.r(t);var n=a(20),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"五-性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五-性能优化"}},[s._v("#")]),s._v(" 五.性能优化")]),s._v(" "),a("h2",{attrs:{id:"_1-图片优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-图片优化"}},[s._v("#")]),s._v(" 1.图片优化")]),s._v(" "),a("ul",[a("li",[s._v("能用 css 代替的用 css 代替")]),s._v(" "),a("li",[s._v("使用 cdn")]),s._v(" "),a("li",[s._v("小图用 base64")]),s._v(" "),a("li",[s._v("雪碧图")]),s._v(" "),a("li",[s._v("能够显示 webP 格式的浏览器尽量使用 webP 格式")]),s._v(" "),a("li",[s._v("小图可以用 svg")]),s._v(" "),a("li",[s._v("照片使用 jpeg")])]),s._v(" "),a("p",[a("strong",[s._v("计算图片大小")])]),s._v(" "),a("p",[s._v("对于一张 100"),a("em",[s._v("100 像素的图片来说，图像上有 10000 个像素点，如果每个像素的值时"),a("strong",[s._v("RGBA")]),s._v("存储的话，那么也就是说每个像素有 4 个通道，每个通道 1 个字节（8 位=1 个字节），所以该图片大小大概为 39KB（10000")]),s._v("1*4/1024）")]),s._v(" "),a("p",[s._v("但是在实际项目中，一张图片可能并不需要使用那么多颜色去显示，我们可以通过减少每个像素的调色板来相应缩小图片的大小。")]),s._v(" "),a("p",[s._v("了解了如何计算图片大小的知识，那么对于如何优化图片，相比大家已经有了 2 个思路了：")]),s._v(" "),a("ul",[a("li",[s._v("减少像素点")]),s._v(" "),a("li",[s._v("减少每个像素点能够显示的颜色")])]),s._v(" "),a("p",[a("strong",[s._v("图片加载优化")])]),s._v(" "),a("p",[s._v("1.不用图片。很多时候会使用到很多修饰类图片，其实这类修饰图片完全可以用 CSS 去代替。")]),s._v(" "),a("p",[s._v("2.对于移动端来说，屏幕宽度那么点，完全没有必要去加载原图浪费带宽。一般图片都用 CDN 加载，可以计算出适配屏幕的宽度，然后去请求相应剪裁好的图片。")]),s._v(" "),a("p",[s._v("3.小图使用 base64 格式。")]),s._v(" "),a("p",[s._v("4.将多个图标文件整合到一张图片中（雪碧图）")]),s._v(" "),a("p",[s._v("5.选择正确的图片格式")]),s._v(" "),a("ul",[a("li",[s._v("对于能够显示 WebP 格式的浏览器尽量使用 WebP 格式。因为 WebP 格式具有更好的图像数据压缩算法，能带来更小的图片体积，而且拥有肉眼识别无差异的图像质量，缺点就是兼容性并不好。")]),s._v(" "),a("li",[s._v("小图使用 PNG，其实对于大部分图标这类图片，完全可以使用 SVG 代替")]),s._v(" "),a("li",[s._v("照片使用 JPEG")])]),s._v(" "),a("h2",{attrs:{id:"_2-dns-预解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-dns-预解析"}},[s._v("#")]),s._v(" 2.DNS 预解析")]),s._v(" "),a("p",[s._v("DNS 解析也是需要时间的，可以通过与解析的方式来预先获得域名所对应的 IP")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("link rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dns-perfetch"')]),s._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"//yuchengkai.cn"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_3-节流"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-节流"}},[s._v("#")]),s._v(" 3.节流")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" throttle "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" lastTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" now "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("now "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" lastTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      lastTime "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" now\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("throttle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    conosle"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h2",{attrs:{id:"_4-防抖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-防抖"}},[s._v("#")]),s._v(" 4.防抖")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("debounce")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("fn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" wait")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("args")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("clearTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("timer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    timer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apply")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" wait"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"_5-预加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-预加载"}},[s._v("#")]),s._v(" 5.预加载")]),s._v(" "),a("p",[s._v("在开发中，可能会遇到这样的情况。有些资源不需要马上用到，但是希望尽早获取，这时候就可以使用预加载。")]),s._v(" "),a("p",[s._v("预加载其实是声明式的"),a("code",[s._v("fetch")]),s._v("，强制浏览器请求资源，并且不会阻塞"),a("code",[s._v("onload")]),s._v("事件，可以使用以下代码开启预加载")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("link rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"preload"')]),s._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://example.com"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("预加载可以一定程度上降低首屏的加载时间，因为可以将一些不影响首屏但重要的文件延后加载，唯一缺点就是兼容性不好。")]),s._v(" "),a("h2",{attrs:{id:"_6-预渲染"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-预渲染"}},[s._v("#")]),s._v(" 6.预渲染")]),s._v(" "),a("p",[s._v("可以通过预渲染将下载的文件预选在后台渲染，可以使用以下代码开启预渲染")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("link rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prerender"')]),s._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://example.com"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("预渲染虽然可以提高页面的加载速度，但是要确保该页面大概率被用户在之后打开，否则就是白白浪费资源去渲染。")]),s._v(" "),a("h2",{attrs:{id:"_7-懒执行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-懒执行"}},[s._v("#")]),s._v(" 7.懒执行")]),s._v(" "),a("p",[s._v("懒执行即使将某些逻辑延迟到使用时在计算。该技术可以用首屏优化，对于磨削耗时逻辑并不需要在首屏就使用的，就可以使用懒执行。懒执行需要唤醒，一般可以通过定时器或者时间的调用来唤醒。")]),s._v(" "),a("h2",{attrs:{id:"_8-懒加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-懒加载"}},[s._v("#")]),s._v(" 8.懒加载")]),s._v(" "),a("p",[s._v("懒加载就是将不关键的资源延后加载。")]),s._v(" "),a("p",[s._v("懒加载的原理就是只加载自定义区域（通常是可视区域，但也可以是即将进入可视区域）内需要加载的东西。对于图片来说，先设置图片标签的"),a("code",[s._v("src")]),s._v("属性为一张占位图，将真实的图片资源放入一个自定义属性中，当年进入自定义区域是，就将自定义属性替换为"),a("code",[s._v("src")]),s._v("属性，这样图片就会去下载资源，实现了图片懒加载。")]),s._v(" "),a("p",[s._v("懒加载不仅可以用于图片，也可以使用在别的资源上。比如进入可视区域才开始播放视屏等。")]),s._v(" "),a("h2",{attrs:{id:"_9-cdn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-cdn"}},[s._v("#")]),s._v(" 9.CDN")]),s._v(" "),a("p",[s._v("CDN 的原理是尽可能的在各个地方分布机房缓存数据，这样即使我们的根服务器远在国外，在国内的用户也可以通过国内的机房迅速加载资源。")]),s._v(" "),a("p",[s._v("因此，我们可以将静态资源尽量使用 CDN 加载，由于浏览器对于单个域名有并发请求上限，可以考虑使用多个 CDN 域名。并且对于 CDN 加载静态资源需要注意 CDN 域名要与主站不同，否则每次请求都会带上主站的 Cookie，平白消耗流量。")]),s._v(" "),a("h2",{attrs:{id:"_10-减少打包时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-减少打包时间"}},[s._v("#")]),s._v(" 10.减少打包时间")]),s._v(" "),a("ul",[a("li",[s._v("优化 loader：babel-loader")]),s._v(" "),a("li",[s._v("并行打包：HappyPack")]),s._v(" "),a("li",[s._v("减少打包次数：DllPlugin")]),s._v(" "),a("li",[a("code",[s._v("resolve.extensions")]),s._v(":用来表明文件后缀列表，默认查找顺序是"),a("code",[s._v("['.js',''.json]")]),s._v(",如果你的导入文件没有添加后缀就会按照这个顺序查找五年级。我们应该尽可能减少后缀列表长度，然后将出现频率高的后缀排在前面。")]),s._v(" "),a("li",[a("code",[s._v("resolve.alias")]),s._v(":可以通过别名的方式来映射一个路径，能让 Webpack 更快遭到路径。")]),s._v(" "),a("li",[a("code",[s._v("module.noParse")]),s._v(":如果你确定一个文件没有其他依赖，就可以使用该属性让 Webpack 不扫描该文件，这种方式对于大型的类库很有帮助。")])]),s._v(" "),a("h2",{attrs:{id:"_11-减少文件体积"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-减少文件体积"}},[s._v("#")]),s._v(" 11.减少文件体积")]),s._v(" "),a("ul",[a("li",[s._v("代码压缩：UglifyJS")]),s._v(" "),a("li",[s._v("Scope Hoisting 会分析出模块之间的依赖关系，尽可能的把打包出来的模块合并到一个函数中去")]),s._v(" "),a("li",[s._v("Tree Shaking 可以实现删除项目中未被引用的代码")])]),s._v(" "),a("h2",{attrs:{id:"_12-移动端的性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-移动端的性能优化"}},[s._v("#")]),s._v(" 12.移动端的性能优化")]),s._v(" "),a("ul",[a("li",[s._v("1.首屏加载和按需加载，懒加载")]),s._v(" "),a("li",[s._v("2.资源预加载")]),s._v(" "),a("li",[s._v("3.图片压缩处理，使用 base64 内嵌图片")]),s._v(" "),a("li",[s._v("4.合理缓存 dom 对象")]),s._v(" "),a("li",[s._v("5.使用 touchstart 代替 click（click 300 毫秒延迟）")]),s._v(" "),a("li",[s._v("6.利用 transform：translateZ(0)，开启硬件 GPU 加速")]),s._v(" "),a("li",[s._v("7.不滥用 web 字体，不滥用 float(布局计算消耗性能)，减少 font-size 声明")]),s._v(" "),a("li",[s._v("8.使用 viewport 固定屏幕渲染，加速首页渲染内容")]),s._v(" "),a("li",[s._v("9.尽量使用事件代理，避免直接事件绑定")])]),s._v(" "),a("h2",{attrs:{id:"_13-网站性能优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-网站性能优化"}},[s._v("#")]),s._v(" 13.网站性能优化")]),s._v(" "),a("ul",[a("li",[s._v("http 请求方面：减少请求数量和体积\n"),a("ul",[a("li",[s._v("压缩资源，减小请求头")]),s._v(" "),a("li",[s._v("懒加载")]),s._v(" "),a("li",[s._v("dns 预解析预先获取域名对应的 ip")]),s._v(" "),a("li",[s._v("控制资源的 dns 解析在 2 到 4 个域名")]),s._v(" "),a("li",[s._v("提取公共样式和组件")]),s._v(" "),a("li",[s._v("使用雪碧图，字体图表")]),s._v(" "),a("li",[s._v("缓存资源")]),s._v(" "),a("li",[s._v("减少 iframe 使用")]),s._v(" "),a("li",[s._v("避免重定向")]),s._v(" "),a("li",[s._v("减少 DNS 查询")]),s._v(" "),a("li",[s._v("使用 CDN")])])]),s._v(" "),a("li",[s._v("代码层优化\n"),a("ul",[a("li",[s._v("节流和防抖")]),s._v(" "),a("li",[s._v("提取公共方法")]),s._v(" "),a("li",[s._v("减少对字符串计算")]),s._v(" "),a("li",[s._v("合理使用闭包")]),s._v(" "),a("li",[s._v("按需加载")]),s._v(" "),a("li",[s._v("首屏的 js 资源加载放在最底部")]),s._v(" "),a("li",[s._v("少用全局变量、缓存 DOM 节点查找的结果")])])]),s._v(" "),a("li",[s._v("减少重排重绘\n"),a("ul",[a("li",[s._v("css 属性读写分离")]),s._v(" "),a("li",[s._v("减少 js 修改样式")]),s._v(" "),a("li",[s._v("dom 离线更新")]),s._v(" "),a("li",[s._v("渲染前指定图片的大小")]),s._v(" "),a("li",[s._v("减少 DOM 元素数量")]),s._v(" "),a("li",[s._v("减少 DOM 操作")])])])]),s._v(" "),a("h2",{attrs:{id:"_14-vue-的-spa-如何优化加载速度"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14-vue-的-spa-如何优化加载速度"}},[s._v("#")]),s._v(" 14. vue 的 spa 如何优化加载速度")]),s._v(" "),a("ul",[a("li",[s._v("1.减少入口文件的体积")]),s._v(" "),a("li",[s._v("2.静态资源本地缓存")]),s._v(" "),a("li",[s._v("3.开启 Gzip 压缩")]),s._v(" "),a("li",[s._v("4.使用 ssr,nuxt.js")])]),s._v(" "),a("h2",{attrs:{id:"_15-图片的懒加载和预加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15-图片的懒加载和预加载"}},[s._v("#")]),s._v(" 15.图片的懒加载和预加载")]),s._v(" "),a("h3",{attrs:{id:"预加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#预加载"}},[s._v("#")]),s._v(" 预加载：")]),s._v(" "),a("p",[s._v("提前加载图片，当用户需要查看时可以直接从本地缓存中渲染")]),s._v(" "),a("p",[s._v("为什么要使用预加载：在网页加载之前，对一些主要内容进行加载，减少等待时间，给用户提供更好的体验；否则，如歌一个页面的内容过于庞大，会出现留白。")]),s._v(" "),a("ul",[a("li",[s._v("解决留白的方法：\n"),a("ul",[a("li",[a("ol",[a("li",[s._v("预加载")])])]),s._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[s._v("使用 svg 占位图片，将一些结构快速搭建起来，等请求的数据来了之后，替换当前的占位符")])])])])]),s._v(" "),a("li",[s._v("实现预加载的方法：\n"),a("ul",[a("li",[a("ol",[a("li",[s._v("使用 html 标签")])])]),s._v(" "),a("li",[a("ol",{attrs:{start:"2"}},[a("li",[s._v("使用 Image 标签")])])]),s._v(" "),a("li",[a("ol",{attrs:{start:"3"}},[a("li",[s._v("使用 XMLHTTPRequest 对象，但会精细控制预加载过程；")])])])])])]),s._v(" "),a("h3",{attrs:{id:"懒加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#懒加载"}},[s._v("#")]),s._v(" 懒加载：")]),s._v(" "),a("p",[s._v("客户端优化，减少 http 请求和延迟请求数量")]),s._v(" "),a("ul",[a("li",[s._v("提升用户体验")]),s._v(" "),a("li",[s._v("减少无效资源的加载")]),s._v(" "),a("li",[s._v("防止并发加载资源过多会阻塞 js 的加载，影响网站的正常使用")]),s._v(" "),a("li",[s._v("原理：首先将页面上的图片的 src 属性设置为空字符串，而图片的真路径则设置带 data-original 属性中；当页面滚动的时候去监听 scroll 事件，在 scroll 事件的回调中，判断我们的懒加载的图片是否进入可视区域；如果图片在可视区域将图片的 src 属性设置为 data-original 的值，这样就可以实现延迟加载。")])])])}),[],!1,null,null,null);t.default=r.exports}}]);