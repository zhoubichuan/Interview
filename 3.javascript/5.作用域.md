## 5. 什么是作用域

由当前环境与上一层环境一系列的变量对象组成；保证当前执行环境里有权访问的变量和函数是有序的，作用域链变量只能被向上访问

变量访问到 window 对象及被总之，作用域链向下访问时不允许的 1. 改变作用域有 with try...中 catch 2. 所有未定义的直接赋值的变量自动声明为全局作用域

### 作用域：

一套规则，管理引擎如何在当前作用域以及嵌套的子作用域中根据标识符名称查找变量（标识符就是变量或者函数名）

只有全局作用域和局部作用域，作用域在它创建的时候就存在了

### 代码执行分为两个阶段：

代码编译阶段：

* 由编译器完成，将代码翻译可执行的代码，这个阶段会被确定

代码执行阶段：

* 由 js 引擎完成，主要执行可执行的代码，这个阶段执行上下文被创建（对象被创建）

### 执行上下文：

* 一个看不见的对象，存在若干个属性和变量，它被调用的时候创建的。函数被调用查看 this 指向的 object,object 就是上下文（只有被调用的时候创建）

## 6. 作用域链

当代码在一个环境中执行时，会创建变量对象的一个作用域链

```
var name = "Tom"
function say(){
    alert('hi,'+name)
}
say() //hi, Tom
```

函数 say()的执行环境为全局环境，所以他的变量对象为 window。当函数执行到 name 时，先查找局部环境，找到则返回局部环境的name，否则顺着作用域查找，在全局环境中找到 name 返回，这一查找变量的有序过程的依据就是作用域。

作用域链是保证执行环境有权访问的所有变量和函数的有序访问

当代码在一个环境中执行是，会创建变量对象的一个作用域链
