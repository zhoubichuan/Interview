## 18. 图片的懒加载和预加载

### 预加载：

提前加载图片，当用户需要查看是可以直接从本地缓存中渲染

为什么要使用预加载：在网页加载之前，对一些主要内容进行加载，减伤等待时间，给用户提供更好的体验；否则，如歌一个页面的内容过于庞大，会出现留白。

* 解决留白的方法：
  * 1.  预加载
  * 2.  使用 svg 占位图片，将一些结构快速搭建起来，等请求的数据来了之后，替换当前的占位符
* 实现预加载的方法：
  * 1.  使用 html 标签
  * 2.  使用 Image 标签
  * 3.  使用 XMLHTTPRequest 对象，但会精细控制预加载过程；

### 懒加载：

客户端优化，减少 http 请求和延迟请求数量

* 提升用户体验
* 减少无效资源的加载
* 防止并发加载资源过多会阻塞 js 的加载，影响网站的正常使用
* 原理：首先将页面上的图片的 src 属性设置为空字符串，而图片的真路径则设置带 data-original 属性中；当页面滚动的时候去监听 scroll 事件，在 scroll 事件的回调中，判断我们的懒加载的图片是否进入可视区域；如果图片在可视区域将图片的 src 属性设置为 data-original 的值，这样就可以实现延迟加载。
